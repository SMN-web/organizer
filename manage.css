body, html {
  margin: 0; padding: 0; min-height: 100vh;
  font-family: 'Segoe UI', Arial, sans-serif; background:#f6f8fa; box-sizing:border-box;
}
.header-bar { position: fixed; top: 0; left: 0; right: 0; height: 62px; background: #fafbfc; z-index: 100; display:flex; align-items:center; justify-content:space-between; padding:0 1em; border-bottom:1px solid #eee; }
.manage-spend-wrapper { max-width: 450px; margin: 62px auto 0 auto; background: #fafbfc; border-radius: 18px; box-shadow: 0 4px 24px rgba(90,110,170,0.07); padding: 20px 16px 50px 16px; min-height: calc(100vh - 67px); overflow-y: auto; }
.manage-spend-wrapper::after { content:""; display:block; height:44px;}
.centered-title { text-align:center; margin:.6em 0 .17em 0; font-size:2em;}
.spend-desc { text-align:center; color:#717688; margin-bottom:1em; font-size:1.05em;}
.selector-label { font-weight:500; margin-bottom:7px; display:block; font-size:1.08em;}
.selector-group { margin-bottom: 20px; }
.custom-dropdown { position: relative; width: 99%; }
.dropdown-selected { background: #f8f8fb; border-radius:8px; border:1px solid #d6d8e0; padding:.7em 1em; font-size:1em; cursor:pointer; width:100%; min-height:18px;}
.dropdown-selected:focus {outline:2px solid #bdd0fd;}
.dropdown-menu { position:absolute; left:0; right:0; top:110%; z-index:200; background:#fff; border-radius:10px; border:1px solid #dde1ed; box-shadow:0 8px 36px -8px #7888ac28; padding:.39em 0 .7em 0; animation:fadeMenu .19s;}
@keyframes fadeMenu { from {opacity:.4;transform:scale(.96)} to{opacity:1;transform:scale(1)} }
.dropdown-search { width:90%; margin:8px auto 9px auto; display:block; padding:.54em 1em; border-radius:8px; border:1px solid #dde1ed; background:#f6f8fa; font-size:.98em;}
.dropdown-options { max-height:148px; overflow-y:auto; }
.selector-item { cursor:pointer; border-radius:6px; padding:8px 15px; font-size:1.06em; color:#27365c; font-weight:500; background:#f6f8fc; margin:2px 0; transition:background .13s; user-select:none;}
.selector-item.selected, .selector-item.used { background:#dbe7fb; color:#234991;}
.selector-item:active, .selector-item:hover { background:#eceef8;}
.chosen-list { display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 0 0; }
.chosen-chip { background:#e1ebf8; color:#1a3762; font-weight:600; border-radius:16px; padding:7px 23px 7px 12px; font-size:1em; box-shadow:0 2px 6px -3px #1d48a022; cursor:pointer; user-select:none; position:relative; display:flex; align-items:center; gap:2px;}
.chosen-chip:hover { background:#c7daf1; color:#0c51bd; }
.chip-x { font-size: 1.08em; font-weight:600; margin-left:8px; color: #c22; pointer-events:none; opacity: 0.8;}
.amount-area { margin-bottom: 22px;}
.amount-label { display: block; margin-bottom: 7px; font-weight: 500;}
.amount-input { width: 86%; background: #f8f8fb; border-radius: 8px; border:1px solid #d6d8e0; padding:.66em 1em; font-size:1em; margin-bottom:3px;}
.primary-btn { background: linear-gradient(90deg,#5f87e8 80%,#62b9e7 100%); color:#fff; border:none; border-radius:7px; padding:.75em 1.7em; font-weight:bold; margin-top:1.15em; letter-spacing:.03em; cursor:pointer; font-size:1.13em; box-shadow:0 2px 8px -4px #497af480; transition:background .19s; display:block; width:96%; margin-left:auto; margin-right:auto;}
.primary-btn:disabled {opacity:.54;}

/* Calculator Modal Overlay */
.calculator-modal-overlay {
  position:fixed; left:0; top:0; width:100vw; height:100vh;
  z-index:1050; background:rgba(30,45,60,.18); backdrop-filter:blur(1.5px);
  display:flex; align-items:center; justify-content:center;
}
/* Calculator Modal Window */
.calculator-modal {
  background: #fff;
  border-radius: 20px;
  box-shadow: 0 16px 44px -8px #669bf9aa;
  padding: 2em 1.2em 1.1em 1.2em;
  min-width: 320px; max-width: 390px; width: 70vw;
  margin: 0 auto; position: relative; animation: fadeInCalc .4s;
}
@keyframes fadeInCalc { from { opacity: 0; transform: scale(.97);} to { opacity: 1; transform: scale(1);} }
.calc-header { display: flex; justify-content: space-between; align-items: center; font-weight: 600; font-size: 1.18em; margin-bottom: 10px;}
.close-calc-btn { background: none; border: none; color: #b33; font-size: 1.5em; cursor: pointer;}
.calculator-display {
  width: 96%; font-size: 1.45em; min-height:32px; padding: 9px 1em;
  border-radius: 11px; border: 1px solid #d6d8e0; background: #f7f8fb;
  text-align: right; margin-bottom: 20px; font-family: 'SF Pro Display', 'Segoe UI', sans-serif;
  transition: box-shadow .1s, background .2s;
}
.calculator-buttons {
  display: grid; gap: 13px; grid-template-columns: repeat(4,1fr);
  margin: 1.2em 0 0.8em 0; justify-items: center;
}
.calc-btn {
  background: linear-gradient(140deg,#eaf3fd 54%,#d2e2fc 100%);
  border-radius: 13px; border: none;
  font-size: 1.20em; font-weight: 600;
  box-shadow: 0 2px 10px -4px #4886e744;
  cursor: pointer; padding: .62em 0; width: 46px;
  transition: background .17s, font-size .13s;
}
.calc-btn:active, .calc-btn:focus { background: #bad8fa; font-size: 1.27em;}
.clear-btn { background: linear-gradient(120deg,#ffdede 60%,#fbcdcd 100%); color: #e74c3c;}
.equals-btn { background: linear-gradient(95deg,#1150ac 70%,#58cbfb 100%); color: #fff; font-weight: 700; }
